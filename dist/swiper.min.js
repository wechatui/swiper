/*!
 * iswiper 1.4.2 (https://github.com/wechatui/swiper.git)
 * Copyright 2016 wechat ui team.
 * Licensed under the MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Swiper=e()}(this,function(){"use strict";function t(t,e){for(var n in e)t[n]=e[n];return t}function e(){}var n={};n.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var i=function(){function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n.classCallCheck(this,i),this.version="1.4.2",this._options=t({container:".swiper",item:".item",direction:"vertical",activeClass:"active",threshold:50,duration:300},e),this._start={},this._move={},this._end={},this._prev=0,this._current=0,this._offset=0,this._goto=-1,this._eventHandlers={},this.$container=document.querySelector(this._options.container),this.$items=this.$container.querySelectorAll(this._options.item),this.count=this.$items.length,this._width=this.$container.offsetWidth,this._height=this.$container.offsetHeight,this._init(),this._bind()}return n.createClass(i,[{key:"_init",value:function(){var t=this,e=this._width,n=this._height*this.count;"horizontal"===this._options.direction&&(e=this._width*this.count,n=this._height),this.$container.style.width=e+"px",this.$container.style.height=n+"px",Array.prototype.forEach.call(this.$items,function(e,n){e.style.width=t._width+"px",e.style.height=t._height+"px"}),this._activate(0)}},{key:"_bind",value:function(){var t=this;this.$container.addEventListener("touchstart",function(e){t._start.x=e.changedTouches[0].pageX,t._start.y=e.changedTouches[0].pageY,t.$container.style["-webkit-transition"]="none",t.$container.style.transition="none"},!1),this.$container.addEventListener("touchmove",function(e){t._move.x=e.changedTouches[0].pageX,t._move.y=e.changedTouches[0].pageY;var n=t._move.y-t._start.y,i=n-t._offset,r="translate3d(0, "+i+"px, 0)";"horizontal"===t._options.direction&&(n=t._move.x-t._start.x,i=n-t._offset,r="translate3d("+i+"px, 0, 0)"),t.$container.style["-webkit-transform"]=r,t.$container.style.transform=r,e.preventDefault()},!1),this.$container.addEventListener("touchend",function(e){t._end.x=e.changedTouches[0].pageX,t._end.y=e.changedTouches[0].pageY;var n=t._end.y-t._start.y;"horizontal"===t._options.direction&&(n=t._end.x-t._start.x),t._prev=t._current,n>t._options.threshold?t._current=0===t._current?0:--t._current:n<-t._options.threshold&&(t._current=t._current<t.count-1?++t._current:t._current),t._show(t._current)},!1),this.$container.addEventListener("transitionEnd",function(t){},!1),this.$container.addEventListener("webkitTransitionEnd",function(n){if(n.target!==t.$container)return!1;if(t._current!=t._prev||t._goto>-1){t._activate(t._current);var i=t._eventHandlers.swiped||e;i.apply(t,[t._prev,t._current]),t._goto=-1}n.preventDefault()},!1)}},{key:"_show",value:function(t){this._offset=t*this._height;var e="translate3d(0, -"+this._offset+"px, 0)";"horizontal"===this._options.direction&&(this._offset=t*this._width,e="translate3d(-"+this._offset+"px, 0, 0)");var n=this._options.duration+"ms";this.$container.style["-webkit-transition"]=n,this.$container.style.transition=n,this.$container.style["-webkit-transform"]=e,this.$container.style.transform=e}},{key:"_activate",value:function(t){var e=this._options.activeClass;Array.prototype.forEach.call(this.$items,function(n,i){n.classList.remove(e),t===i&&n.classList.add(e)})}},{key:"go",value:function(t){return 0>t||t>this.count-1||t===this._current?void 0:(0===t?(this._current=0,this._prev=0):(this._current=t,this._prev=t-1),this._goto=t,this._show(this._current),this)}},{key:"next",value:function(){return this._current>=this.count-1?void 0:(this._prev=this._current,this._show(++this._current),this)}},{key:"on",value:function(t,e){if(this._eventHandlers[t])throw new Error("event "+t+" is already register");if("function"!=typeof e)throw new Error("parameter callback must be a function");return this._eventHandlers[t]=e,this}}]),i}();return i});